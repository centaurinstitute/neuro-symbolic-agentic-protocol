# NSAI-0004 Query Expressions

## Description

NSAIP provides built-in query methods for retrieving instances from the Logic Graph based on logical predicates. The `.where()` method returns all instances matching a given lambda predicate, while `.find()` returns a single instance that satisfies the condition. These queries execute directly against the in-memory graph without requiring external database systems or query languages.

## Examples

```python
class User:
    def __init__(self, email, password):
        self.email = email
        self.password = md5(password)
```

```python
user1 = User("jordan.miller@testmail.local", "jmiller_2024!")
user2 = User("sarah.chen@dev-example.net", "Sc!dev4392")
user3 = User("michael.roberts@samplemail.org", "MRoberts#92")
user4 = User("anna.keller@mockserver.app", "AnnaKeller_88")
```

### Using .where() to find multiple matches

```python
> User.where(lambda user: user.email == "jordan.miller@testmail.local")
[{ "email": "jordan.miller@testmail.local", "password": "5188d1a5278b980296ed0af914682507" }]
```

### Using .find() to find a single match

```python
> User.find(lambda user: user.email == "sarah.chen@dev-example.net")
{ "email": "sarah.chen@dev-example.net", "password": "22497336687c6bbc110f64762b10e2ce" }
```

### Complex predicates

```python
> User.where(lambda user: user.email.endswith("@testmail.local"))
[{ "email": "jordan.miller@testmail.local", "password": "5188d1a5278b980296ed0af914682507" }]
```
